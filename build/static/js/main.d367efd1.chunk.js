(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},22:function(e,t,a){e.exports=a(32)},30:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);a(23);var n=a(1),i=a.n(n),o=a(10),s=a.n(o),r=a(36),l=a(4),c=a(5),m=a(7),d=a(6),h=a(8),g=a(37),u=a(21),p=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(u.a,null,this.props.children))}}]),t}(n.Component);p.displayName=p.name;var v=a(11),b=a(3),f={formatSize:function(e,t,a,n){var i=1,o=1;return(o=e>a?a/e:1)>(i=t>n?n/t:1)?i:o}},E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCoordinatesClick=function(e){e.preventDefault();var t=new Date,n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),r="https://teams.microsoft.com/l/meeting/new?subject=Room%20Booking&startTime="+(n+"-"+a.pad(i+1,2)+"-"+a.pad(o,2)+"T"+a.pad(s,2)+":00:00")+"&endTime="+(n+"-"+a.pad(i+1,2)+"-"+a.pad(o,2)+"T"+a.pad(s,2)+":30:00")+"&attendees="+a.props.email;window.open(r,"_blank")},a.state={imageWidth:0,maxheight:500,maxWidth:1200},a.onCoordinatesClick.bind(Object(b.a)(a)),a.onMouseOut.bind(Object(b.a)(a)),a.onCoordinatesMouseOver.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"onCoordinatesMouseOver",value:function(){var e=document.getElementById(this.props.email);void 0!==e&&null!==e&&e.classList.add("highlightRow"),!0===this.props.hasHighlight?this.drawRedRectangleForTarget(this.props.coordinates[0],this.props.coordinates[1],this.props.coordinates[2],this.props.coordinates[3],"highlightingCanvas"):this.drawRectangleForTarget(this.props.coordinates[0],this.props.coordinates[1],this.props.coordinates[2],this.props.coordinates[3],this.props.canvasName)}},{key:"onMouseOut",value:function(){var e=document.getElementById(this.props.email);void 0!==e&&null!==e&&e.classList.remove("highlightRow"),this.clearCanvas()}},{key:"componentDidMount",value:function(){this.drawRectangleForTarget(this.props.coordinates[0],this.props.coordinates[1],this.props.coordinates[2],this.props.coordinates[3],this.props.canvasName)}},{key:"pad",value:function(e,t,a){return a=a||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(a)+e}},{key:"drawRectangleForTarget",value:function(e,t,a,n,i,o){var s=document.getElementById(i).getContext("2d"),r=f.formatSize(this.props.imageHeight,this.props.imageWidth,this.state.maxheight,this.state.maxWidth);!1===this.props.shouldScale&&(r=1),s.height=this.props.imageHeight,s.width=this.props.imageWidth,s.fillStyle="#6264A7";var l=[e*r,t*r,a*r,n*r];s.beginPath(),s.moveTo(l[0],l[1]),s.lineTo(l[0],l[1]),s.lineTo(l[2],l[1]),s.lineTo(l[2],l[3]),s.lineTo(l[0],l[3]),s.closePath(),s.fill()}},{key:"drawRedRectangleForTarget",value:function(e,t,a,n,i){var o=document.getElementById(i).getContext("2d"),s=f.formatSize(this.props.imageHeight,this.props.imageWidth,this.state.maxheight,this.state.maxWidth);!1===this.props.shouldScale&&(s=1),o.height=this.props.imageHeight,o.width=this.props.imageWidth,o.fillStyle="red";var r=[e*s,t*s,a*s,n*s];o.beginPath(),o.moveTo(r[0],r[1]),o.lineTo(r[0],r[1]),o.lineTo(r[2],r[1]),o.lineTo(r[2],r[3]),o.lineTo(r[0],r[3]),o.closePath(),o.fill()}},{key:"clearCanvas",value:function(){if(!0===this.props.hasHighlight){var e=document.getElementById("highlightingCanvas");e.getContext("2d").clearRect(0,0,e.width,e.height)}}},{key:"render",value:function(){var e=this.props.name,t=this.props.email,a=this.props.capacity,n=f.formatSize(this.props.imageHeight,this.props.imageWidth,this.state.maxheight,this.state.maxWidth),o=this.props.coordinates[0]*n+", "+this.props.coordinates[1]*n+", "+this.props.coordinates[2]*n+", "+this.props.coordinates[3]*n,s=e+" ("+a+" capacity)";return i.a.createElement("area",{onMouseOver:this.onCoordinatesMouseOver.bind(this),onMouseOut:this.onMouseOut.bind(this),onClick:this.onCoordinatesClick.bind(this),className:"mapcoords",shape:"rect",coords:o,href:"#",title:s,alt:e,email:t})}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addRoomToMap=function(e){a.setState({rooms:[].concat(Object(v.a)(e),[a.state.rooms])});var t=[e].concat(Object(v.a)(a.state.rooms));a.setState({rooms:t}),console.log("RoomMap - updating rooms "+a.state.rooms)},a.onCoordinatesMouseOver=function(e){console.log("Mouse over "+e.target)},a.onMouseOut=function(e){console.log("Mouse out "+e.target)},a.onCoordinatesClick=function(e){console.log("Coordinates click "+e.target)},a.state={imageHeight:0,imageWidth:0,maxheight:500,maxWidth:1200,scaling:1},a.onCoordinatesMouseOver.bind(Object(b.a)(a)),a.onMouseOut.bind(Object(b.a)(a)),a.onCoordinatesClick.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("map",{id:"map",name:this.props.mapName},this.props.rooms.map(function(t,a){return i.a.createElement(E,{key:a,name:t.name,email:t.email,coordinates:t.coordinates,capacity:t.capacity,imageHeight:e.props.imageHeight,imageWidth:e.props.imageWidth,canvasName:e.props.canvasName,hasHighlight:e.props.hasHighlight,shouldScale:e.props.shouldScale})}))}}]),t}(n.Component),y=(a(18),{APIEndpoint:"https://teams-map-maker-api.azurewebsites.net/api/"}),C=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onMouseEnter=function(e){void 0!==e.coordinates&&(a.drawRectangleForTarget(e.coordinates[0],e.coordinates[1],e.coordinates[2],e.coordinates[3],"highlightingCanvas"),void 0!==e.email&&a.highlightRow(document.getElementById(e.email)))},a.onMouseOut=function(e){void 0!==e.email&&a.removeHighligtFromRow(document.getElementById(e.email)),a.clearCanvas()};return a.state={imageWidth:1440,imageHeight:741,originalWidth:0,originalHeight:0,scaling:1,mousePressed:!1,mousedownStartX:0,mousedownStartY:0,mousedownEndX:0,mousedownEndY:0,rooms:[],imageData:"",isLoading:!0,errorText:"",maxHeight:500,maxWidth:1200},a.onMouseOut.bind(Object(b.a)(a)),a.onMouseEnter.bind(Object(b.a)(a)),a.clearCanvas.bind(Object(b.a)(a)),a.drawRectangleForTarget.bind(Object(b.a)(a)),a.handleClick=a.handleClick.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e,t){var a=new Date,n=a.getFullYear(),i=a.getMonth(),o=a.getDate(),s=a.getHours(),r="https://teams.microsoft.com/l/meeting/new?subject=Room%20Booking&startTime="+(n+"-"+this.pad(i+1,2)+"-"+this.pad(o,2)+"T"+this.pad(s,2)+":00:00")+"&endTime="+(n+"-"+this.pad(i+1,2)+"-"+this.pad(o,2)+"T"+this.pad(s,2)+":30:00")+"&attendees="+e;window.open(r,"_blank")}},{key:"pad",value:function(e,t,a){return a=a||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(a)+e}},{key:"highlightRow",value:function(e){e.classList.add("highlightRow")}},{key:"removeHighligtFromRow",value:function(e){e.classList.remove("highlightRow")}},{key:"clearCanvas",value:function(){var e=document.getElementById("highlightingCanvas");e.getContext("2d").clearRect(0,0,e.width,e.height)}},{key:"drawRectangleForTarget",value:function(e,t,a,n,i){var o=document.getElementById(i).getContext("2d");o.height=this.state.imageHeight,o.width=this.state.imageWidth,o.fillStyle="red";var s=this.state.scaling,r=[e*s,t*s,a*s,n*s];o.beginPath(),o.moveTo(r[0],r[1]),o.lineTo(r[0],r[1]),o.lineTo(r[2],r[1]),o.lineTo(r[2],r[3]),o.lineTo(r[0],r[3]),o.closePath(),o.fill()}},{key:"componentDidMount",value:function(){this.getAllPosts(),document.getElementsByClassName("container")[0].classList.remove("container")}},{key:"getAllPosts",value:function(){var e=this,t=this.props.queryString.split("map="),a=t[1].split("&"),n=t[1].split("token=")[1],i=a[0];this.setState({isLoading:!0,loadingMessage:"Loading map"}),fetch("".concat(y.APIEndpoint,"GetTeamsMapData?map=").concat(i,"&token=").concat(n),{method:"GET"}).then(function(t){t.json().then(function(t){var a=f.formatSize(t.imageHeight,t.imageWidth,e.state.maxHeight,e.state.maxWidth);e.setState({rooms:t.rooms,imageData:t.imageData,imageHeight:t.imageHeight*a,imageWidth:t.imageWidth*a,originalHeight:t.imageHeight,originalWidth:t.imageWidth,isLoading:!1,scaling:a})}).catch(function(t){console.log(t),e.setState({isLoading:!1,errorText:"Error while fetching map: "+t})})}).catch(function(t){console.log(t),e.setState({isLoading:!1,errorText:"Error: "+t})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"viewMap"},this.state.isLoading?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"loading-div"},i.a.createElement("svg",{id:"loading-spinner",width:"100",height:"100"},i.a.createElement("circle",{cx:"50",cy:"50",r:"37.5",stroke:"#0047b3",strokeWidth:"10",fill:"transparent","stroke-offset":"3"}),i.a.createElement("path",{stroke:"#ccc",strokeWidth:"10.5",d:"M 25, 22\r a 37.5,37.5 0 1,0 50,0",fill:"none"})),i.a.createElement("p",null,"Loading map"))):""!==this.state.errorText.trim()?i.a.createElement("p",null,this.state.errorText):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"sticky-top map-div"},i.a.createElement("canvas",{width:this.state.imageWidth,height:this.state.imageHeight,id:"mapCanvas"}),i.a.createElement("canvas",{width:this.state.imageWidth,height:this.state.imageHeight,id:"highlightingCanvas"}),i.a.createElement("img",{draggable:"false",className:"map maphilighted",src:this.state.imageData,width:this.state.imageWidth,height:this.state.imageHeight,alt:"officeMap",useMap:"#mappedOffice",id:"mapImage"}),i.a.createElement(w,{mapName:"mappedOffice",canvasName:"mapCanvas",hasHighlight:!0,rooms:this.state.rooms,imageHeight:this.state.originalHeight,imageWidth:this.state.originalWidth})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("table",{className:"table pointer-table table-sm col-md-6 room-table"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Rooms")),this.state.rooms.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}).map(function(t,a){return i.a.createElement("tr",{key:a,id:t.email,onClick:e.handleClick.bind(e,t.email),onMouseEnter:e.onMouseEnter.bind(t),onMouseOut:e.onMouseOut.bind(t),coordinates:t.coordinates},i.a.createElement("td",{onClick:e.handleClick.bind(e,t.email),onMouseEnter:e.onMouseEnter.bind(e,t),onMouseOut:e.onMouseOut.bind(e,t)},t.name," (",t.capacity,")"))}))),i.a.createElement("p",null,"Click on an item either in the list or on the map to start booking a room. You are only able to book rooms that are highlighted."),i.a.createElement("p",null,"Hover over an item on the map to view room details.")))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).removeRoom.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"removeRoom",value:function(e){this.props.handleRemoveRoom(e)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("table",{className:"table table-sm table-hover col-md-12"},i.a.createElement("tbody",null,i.a.createElement("tr",{className:"col-md-12"},i.a.createElement("th",{className:"col-md-5"},"Name"),i.a.createElement("th",{className:"col-md-5"},"Email"),i.a.createElement("th",{className:"col-md-2"},"Capacity")),this.props.rooms.map(function(t,a){return i.a.createElement("tr",{key:a,className:"col-md-12"},i.a.createElement("td",{className:"col-md-5"},t.name),i.a.createElement("td",{className:"col-md-5"},t.email),i.a.createElement("td",{className:"col-md-2"},t.capacity),i.a.createElement("td",null,i.a.createElement("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:e.removeRoom.bind(e,t)}," Remove")))}))))}}]),t}(n.Component),N=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleRemoveRoom=function(e){if(-1!==e){var t=a.state.rooms.filter(function(t){return t.email!==e.email});a.setState({rooms:t}),a.reRenderAllAreasForCanvas(t)}},a.handleIconUpdate=function(e){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.src=t;var i=Object(b.a)(a);n.onload=function(){i.setState({iconImageData:t})}},a.handleImageUpdate=function(e){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.src=t;var i=Object(b.a)(a);n.onload=function(){i.setState({imageHeight:this.naturalHeight,imageWidth:this.naturalWidth,imageData:t,displayImage:!0})}},a.onAreaAdded=function(e){a.area.current.addRoomToMap(e)},a.getCursorPosition=function(e){var t=document.getElementById("mainImage").getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;"mousedown"===e.type?a.setState({mousePressed:!0,mousedownStartX:n,mousedownStartY:i}):a.setState({mousePressed:!1,mousedownEndX:n,mousedownEndY:i})},a.onMouseOver=function(e){var t=document.getElementById(e.target.getAttribute("name"));a.mapCoords(t.coords.split(","))},a.onMouseOut=function(e){var t=document.getElementById("drawingCanvas");t.getContext("2d").clearRect(0,0,t.width,t.height)},a.onCoordinatesMouseOver=function(e){var t=e.target.coords.split(",");a.mapCoords(t)},a.trackMouseMove=function(e){var t=document.getElementById("mainImage").getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;a.state.mousePressed&&a.drawRectangleForTarget(a.state.mousedownStartX,a.state.mousedownStartY,n,i)},a.submitRoom=function(e){e.preventDefault(),""===a.state.roomEmail.trim()?a.setState({errorText:"Email is required."}):""===a.state.roomName.trim()?a.setState({errorText:"Email is required."}):a.state.rooms.some(function(e){return a.state.roomEmail===e.email})?(console.log("Email exist"),a.setState({errorText:"Email already exists."})):(a.setState({rooms:[].concat(Object(v.a)(a.state.rooms),[{name:a.state.roomName,coordinates:[a.state.mousedownStartX,a.state.mousedownStartY,a.state.mousedownEndX,a.state.mousedownEndY],email:a.state.roomEmail,capacity:a.state.roomCapacity}])}),a.setState({roomName:"",roomCap:"",roomEmail:"",errorText:""}),a.clearDrawingCanvas("drawingCanvas"))},a.handleTextUpdate=function(e){"rName"===e.target.name&&a.setState({roomName:e.target.value}),"rCap"===e.target.name&&a.setState({roomCapacity:e.target.value}),"rEmail"===e.target.name&&a.setState({roomEmail:e.target.value}),"mName"===e.target.name&&a.setState({mapName:e.target.value})};return a.area=i.a.createRef(),a.state={imageWidth:1152,imageHeight:741*.8,scaling:.8,mousePressed:!1,mousedownStartX:0,mousedownStartY:0,mousedownEndX:0,mousedownEndY:0,mapName:"",roomName:"",roomCapacity:0,roomEmail:"",rooms:[],imageData:"",iconImageData:"",displayImage:!1,displayTitle:!0,hasParams:!0,errorText:"",internalMode:!1,shouldScale:!1},a.onMouseOver.bind(Object(b.a)(a)),a.onMouseOut.bind(Object(b.a)(a)),a.getCursorPosition.bind(Object(b.a)(a)),a.trackMouseMove.bind(Object(b.a)(a)),a.submitRoom.bind(Object(b.a)(a)),a.handleTextUpdate.bind(Object(b.a)(a)),a.handleImageUpdate.bind(Object(b.a)(a)),a.exportMap.bind(Object(b.a)(a)),a.handleRemoveRoom=a.handleRemoveRoom.bind(Object(b.a)(a)),a.handleIconUpdate=a.handleIconUpdate.bind(Object(b.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"reRenderAllAreasForCanvas",value:function(e){var t=this;this.clearDrawingCanvas("myCanvas"),e.forEach(function(e){t.redrawRectangleForTarget(e.coordinates[0],e.coordinates[1],e.coordinates[2],e.coordinates[3])})}},{key:"clearDrawingCanvas",value:function(e){var t=document.getElementById(e);t.getContext("2d").clearRect(0,0,t.width,t.height)}},{key:"redrawRectangleForTarget",value:function(e,t,a,n){var i=document.getElementById("myCanvas").getContext("2d");i.height=this.state.imageHeight,i.width=this.state.imageWidth,i.fillStyle="#6264A7";var o=[e,t,a,n];i.beginPath(),i.moveTo(o[0],o[1]),i.lineTo(o[0],o[1]),i.lineTo(o[2],o[1]),i.lineTo(o[2],o[3]),i.lineTo(o[0],o[3]),i.closePath(),i.fill()}},{key:"drawRectangleForTarget",value:function(e,t,a,n){var i=document.getElementById("drawingCanvas").getContext("2d");this.clearDrawingCanvas("drawingCanvas"),i.height=this.state.imageHeight,i.width=this.state.imageWidth,i.fillStyle="green";var o=[e,t,a,n];i.beginPath(),i.moveTo(o[0],o[1]),i.lineTo(o[0],o[1]),i.lineTo(o[2],o[1]),i.lineTo(o[2],o[3]),i.lineTo(o[0],o[3]),i.closePath(),i.fill()}},{key:"exportMap",value:function(){var e,t=this,a="";console.log(y.APIEndpoint),(e=this.state.imageData,fetch(e).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t,a){var n=new FileReader;n.onloadend=function(){return t(n.result)},n.onerror=a,n.readAsDataURL(e)})})).then(function(e){a=e;var n={rooms:t.state.rooms,imageData:a,imageWidth:t.state.imageWidth,imageHeight:t.state.imageHeight,mapName:t.state.mapName},i=JSON.stringify(n);fetch("".concat(y.APIEndpoint,"/PostTeamsMapData"),{method:"POST",body:i}).then(function(e){return e.blob()}).then(function(e){console.log(e);var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.setAttribute("download","manifest.zip"),a.click()}).catch(function(e){console.log(e)})})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,""===this.props.location.search?i.a.createElement("div",null,i.a.createElement("div",{className:this.state.displayTitle?"main-frame":"hidden"},i.a.createElement("canvas",{className:this.state.displayImage?"":"hidden",width:this.state.imageWidth,height:this.state.imageHeight,id:"drawingCanvas"}),i.a.createElement("canvas",{className:this.state.displayImage?"":"hidden",width:this.state.imageWidth,height:this.state.imageHeight,id:"myCanvas"}),i.a.createElement("img",{draggable:"false",className:this.state.displayImage?"map maphilighted":"hidden",onMouseDown:this.getCursorPosition.bind(this),onMouseUp:this.getCursorPosition.bind(this),onMouseMove:this.trackMouseMove.bind(this),src:this.state.imageData,width:this.state.imageWidth,height:this.state.imageHeight,alt:"officeMap",useMap:"#officeMap",id:"mainImage"}),i.a.createElement("div",{className:this.state.displayImage?"hidden":"main-title text-center"},i.a.createElement("h1",{className:this.state.displayImage?"hidden":"display-4 text-center"},"Teams map maker"),i.a.createElement("h2",{className:this.state.displayImage?"hidden":"text-center"},"Start by uploading an image of your office map.")),i.a.createElement("div",{className:"container col-md-8"},i.a.createElement("p",{className:this.state.displayImage?"":"hidden"}," Use your mouse to map out your office rooms"),i.a.createElement("div",{className:this.state.displayImage?"form-group":"hidden"},i.a.createElement("div",{className:""===this.iconImageData?"icon-preview col-md-4":"hidden"},i.a.createElement("img",{src:this.state.iconImageData,alt:"Teams icon"})),i.a.createElement("div",{className:this.state.displayImage?"col-md-12":"hidden"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("label",{className:"control-label col"},"Map name: (will be displayed in Teams left-side tab)"),i.a.createElement("input",{className:"form-control col",type:"text",onChange:this.handleTextUpdate.bind(this),value:this.state.mapName,name:"mName"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",{className:"control-label col"},"Room name:"),i.a.createElement("input",{className:"form-control col",type:"text",onChange:this.handleTextUpdate.bind(this),value:this.state.roomName,name:"rName"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",{className:"control-label col"},"Room capacity"),i.a.createElement("input",{className:"form-control col",type:"text",onChange:this.handleTextUpdate.bind(this),value:this.state.roomCapacity,name:"rCap"})),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("label",{className:"control-label col"},"Room booking email"),i.a.createElement("input",{className:"form-control col",type:"text",onChange:this.handleTextUpdate.bind(this),value:this.state.roomEmail,name:"rEmail"})),i.a.createElement("div",{className:"col col-sm-6"},i.a.createElement("button",{className:"btn btn-primary submitroombtn",onClick:this.submitRoom.bind(this)},"Add room"),""!==this.state.errorText.trim()?i.a.createElement("p",{className:"text-danger"},this.state.errorText):i.a.createElement(i.a.Fragment,null)),i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("button",{className:"btn btn-primary submitroombtn",onClick:this.exportMap.bind(this)},"Export map")),i.a.createElement("br",null))),i.a.createElement(w,{hasHighlight:!1,mapName:"officeMap",canvasName:"myCanvas",rooms:this.state.rooms,imageHeight:this.state.imageHeight,imageWidth:this.state.imageWidth,shouldScale:this.state.shouldScale}),i.a.createElement(O,{rooms:this.state.rooms,handleRemoveRoom:this.handleRemoveRoom}))),i.a.createElement("div",{className:this.state.displayImage?"hidden":"container imageselection"},i.a.createElement("span",{className:"btn btn-primary btn-file col-md-12 text-center"},"Select image",i.a.createElement("input",{type:"file",onChange:this.handleImageUpdate.bind(this)})),i.a.createElement("p",{className:"text-center"},"The image will keep it's original size. Recommended size is approx. 1200 width but depends on general screen resolution."))))):i.a.createElement(C,{queryString:window.location.href}))}}]),t}(n.Component),k=(a(30),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={rooms:[]},e}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(p,null,i.a.createElement(g.a,{path:"/",component:N}),i.a.createElement(g.a,{strict:!0,path:"/map",component:C}))}}]),t}(n.Component));k.displayName=k.name;var T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var R=document.getElementsByTagName("base")[0].getAttribute("href"),M=document.getElementById("root");s.a.render(i.a.createElement(r.a,{basename:R},i.a.createElement(k,null)),M),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");T?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):j(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):j(e)})}}()}},[[22,1,2]]]);
//# sourceMappingURL=main.d367efd1.chunk.js.map